<!DOCTYPE html>
<html lang="en">
<head>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5129097020907805" crossorigin="anonymous"></script>
    
  <meta charset="UTF-8" />
<title>Tell My Location | Global GPS & Safety Tool</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

<meta name="description" content="Instantly find your exact location, address, and local weather. A private, fast safety tool for emergencies. No data storage.">
<meta name="keywords" content="tell my location, where am i, my gps coordinates, current address, emergency sos, location finder, weather near me">

<meta property="og:title" content="Tell My Location | Global GPS Tool">
<meta property="og:description" content="Get your exact GPS coordinates, address, and nearest emergency services instantly.">
<meta property="og:type" content="website">
<meta property="og:url" content="[https://tellmylocation.com](https://tellmylocation.com)">
<meta property="og:image" content="[https://tellmylocation.com/icon.png](https://tellmylocation.com/icon.png)"> <link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#0f172a">

<link rel="stylesheet" href="[https://unpkg.com/leaflet@1.9.4/dist/leaflet.css](https://unpkg.com/leaflet@1.9.4/dist/leaflet.css)" />
<script src="[https://unpkg.com/leaflet@1.9.4/dist/leaflet.js](https://unpkg.com/leaflet@1.9.4/dist/leaflet.js)"></script>
<script src="[https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js](https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js)"></script>

<script type="application/ld+json">
{
  "@context": "[https://schema.org](https://schema.org)",
  "@type": "WebApplication",
  "name": "Tell My Location",
  "url": "[https://tellmylocation.com](https://tellmylocation.com)",
  "applicationCategory": "Utility",
  "operatingSystem": "Any",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  },
  "featureList": "GPS Coordinates, Address Lookup, Weather, SOS Sharing, Nearby Services"
}
</script>

<style>
    :root {
        --card: rgba(13, 17, 23, 0.85);
        --accent: #ff0055;
        --neon-blue: #38bdf8;
        --sos-red: #ef4444;
        --text-main: #ffffff;
        --text-soft: #94a3b8;
        --border: rgba(255, 255, 255, 0.1);
    }

    * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }

    body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 50%, #111827 100%);
        background-attachment: fixed;
        color: var(--text-main);
        min-height: 100vh;
        padding: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .shell { width: 100%; max-width: 800px; display: flex; flex-direction: column; gap: 16px; position: relative; }

    .lang-switch {
        position: absolute;
        top: 0;
        right: 0;
        z-index: 10;
    }
    
    select#language {
        background: rgba(255,255,255,0.1);
        color: white;
        border: 1px solid var(--border);
        padding: 5px 10px;
        border-radius: 8px;
        font-size: 12px;
        cursor: pointer;
        outline: none;
    }
    select#language option { background: #0f172a; color: white; }

    body.rtl { direction: rtl; }
    body.rtl .lang-switch { right: auto; left: 0; }
    body.rtl .copy-abs { right: auto; left: 12px; }
    body.rtl #full-address { padding-right: 0; padding-left: 30px; }
    body.rtl .data-item, body.rtl .nearby-item { text-align: right; }

    .brand { text-align: center; margin: 30px 0 15px; } 
    .brand h1 { font-size: 28px; font-weight: 800; letter-spacing: -1px; margin-bottom: 6px; text-shadow: 0 4px 20px rgba(0,0,0,0.5); }
    .brand h1 span { color: var(--accent); }
    .tagline { color: var(--text-soft); font-size: 14px; font-weight: 400; }

    .card {
        background: var(--card);
        backdrop-filter: blur(12px);
        border-radius: 24px;
        border: 1px solid var(--border);
        padding: 24px;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
    }

    .address-box {
        background: rgba(56, 189, 248, 0.05);
        border: 1px solid rgba(56, 189, 248, 0.2);
        padding: 18px;
        border-radius: 16px;
        margin-bottom: 20px;
        text-align: center;
        position: relative;
    }
    .address-box h2 { font-size: 11px; color: var(--neon-blue); text-transform: uppercase; letter-spacing: 1.5px; margin-bottom: 8px; font-weight: 700; }
    #full-address { font-size: 16px; font-weight: 600; line-height: 1.5; color: #fff; padding-right: 30px; }
    
    .icon-btn {
        background: none; border: none; cursor: pointer; color: var(--neon-blue);
        padding: 5px; display: flex; align-items: center; justify-content: center;
        transition: transform 0.2s;
    }
    .icon-btn:hover { transform: scale(1.1); }
    .copy-abs { position: absolute; right: 12px; top: 50%; transform: translateY(-50%); }

    #map { width: 100%; height: 320px; border-radius: 18px; border: 1px solid var(--border); margin-bottom: 20px; z-index: 1; }

    .data-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 12px; margin-bottom: 24px; }
    .data-item {
        background: rgba(255,255,255,0.03);
        border: 1px solid var(--border);
        padding: 16px;
        border-radius: 16px;
        text-align: left;
    }
    .label { font-size: 10px; color: var(--text-soft); text-transform: uppercase; margin-bottom: 6px; letter-spacing: 0.5px; }
    .value { font-size: 16px; font-weight: 700; color: #fff; }
    .sub-value { font-size: 11px; color: var(--neon-blue); margin-top: 4px; }

    .nearby-header { font-size: 12px; text-transform: uppercase; color: var(--text-soft); margin-bottom: 10px; letter-spacing: 0.5px; display: flex; align-items: center; gap: 6px; }
    .nearby-list { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
    @media(max-width: 600px) { .nearby-list { grid-template-columns: 1fr; } }
    
    .nearby-item {
        background: rgba(255,255,255,0.03);
        border: 1px solid var(--border);
        padding: 12px;
        border-radius: 12px;
    }
    .nearby-type { font-size: 9px; color: var(--accent); font-weight: 800; text-transform: uppercase; margin-bottom: 4px; }
    .nearby-name { font-size: 13px; font-weight: 600; color: #f1f5f9; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .nearby-dist { font-size: 11px; color: var(--neon-blue); }

    .btn-stack { display: flex; flex-direction: column; gap: 12px; margin-top: 30px; }
    .btn-row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }

    .btn {
        border: none; border-radius: 14px; padding: 16px; font-weight: 700; 
        cursor: pointer; font-size: 14px; display: flex; align-items: center; justify-content: center; gap: 8px;
        transition: transform 0.1s;
    }
    
    .btn-sos { 
        background: var(--sos-red); color: white; width: 100%; font-size: 16px;
        box-shadow: 0 0 20px rgba(239, 68, 68, 0.4);
        animation: pulse 2s infinite;
    }
    @keyframes pulse {
        0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); }
        70% { box-shadow: 0 0 0 12px rgba(239, 68, 68, 0); }
        100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); }
    }

    .btn-primary { background: linear-gradient(135deg, #ff0055, #ff4d7d); color: white; }
    .btn-ghost { background: rgba(255,255,255,0.05); color: white; border: 1px solid var(--border); }
    .btn:active { transform: scale(0.98); }
    .icon { width: 18px; height: 18px; stroke-width: 2.5; }

    .trust-badge { 
        font-size: 12px; color: #94a3b8; text-align: center; margin-top: 25px; line-height: 1.6;
        background: rgba(15, 23, 42, 0.5); padding: 15px; border-radius: 12px; border: 1px dashed var(--border);
    }
    
    footer { margin-top: 40px; text-align: center; font-size: 12px; color: var(--text-soft); padding-bottom: 30px; border-top: 1px solid var(--border); width: 100%; padding-top: 20px;}
    footer a { color: var(--text-soft); text-decoration: none; margin: 0 8px; transition: color 0.2s; }
    footer a:hover { color: white; }

    #cookie-banner {
        display: none; position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
        background: rgba(30, 41, 59, 0.95); padding: 20px; border-radius: 16px; 
        border: 1px solid var(--neon-blue); 
        box-shadow: 0 10px 40px rgba(0,0,0,0.8); 
        width: 90%; max-width: 400px; z-index: 10000; text-align: center;
        backdrop-filter: blur(10px);
    }
    #cookie-text { margin-bottom: 15px; font-size: 13px; color: #cbd5e1; line-height: 1.5; }
    #cookie-btn {
        background: var(--neon-blue); color: #0f172a; border: none; padding: 10px 24px;
        border-radius: 50px; font-weight: 800; cursor: pointer; font-size: 14px;
    }

    /* PREMIUM UPGRADE CSS INJECT 
       High-end Futuristic Visuals 
    */
    .premium-upgrade-container { animation: fadeIn 1.2s ease-out; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    .qr-section { text-align: center; margin-bottom: 25px; background: rgba(255,255,255,0.02); padding: 20px; border-radius: 20px; border: 1px solid var(--border); }
    .qr-label { font-size: 12px; text-transform: uppercase; letter-spacing: 2px; color: var(--neon-blue); margin-bottom: 10px; font-weight: 800; }
    #qrcode { display: inline-block; padding: 10px; background: white; border-radius: 12px; box-shadow: 0 0 20px rgba(56, 189, 248, 0.3); }

    .premium-dashboard { display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 15px; margin: 20px 0; }
    .p-card { 
        background: linear-gradient(145deg, rgba(255,255,255,0.05), rgba(255,255,255,0.01));
        border: 1px solid var(--border); padding: 20px; border-radius: 20px;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); cursor: default;
    }
    .p-card:hover { border-color: var(--neon-blue); transform: scale(1.05); box-shadow: 0 10px 30px rgba(56,189,248,0.1); }
    .p-icon { font-size: 20px; margin-bottom: 10px; display: block; opacity: 0.8; }
    .p-label { font-size: 10px; text-transform: uppercase; color: var(--text-soft); }
    .p-value { font-size: 18px; font-weight: 800; color: white; display: block; margin-top: 5px; }

    .compass-wrap { 
        position: relative; width: 220px; height: 220px; margin: 30px auto;
        background: radial-gradient(circle, rgba(56, 189, 248, 0.1) 0%, transparent 70%);
        border-radius: 50%; padding: 10px;
    }
    #compass-svg { width: 100%; height: 100%; transition: transform 0.1s linear; filter: drop-shadow(0 0 10px var(--neon-blue)); }
    .compass-ring { fill: none; stroke: var(--border); stroke-width: 2; }
    .compass-glow { fill: none; stroke: var(--neon-blue); stroke-width: 1; opacity: 0.5; }

    .use-case-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 40px; }
    .use-case-card { 
        background: rgba(255,255,255,0.02); border: 1px solid var(--border); padding: 20px; border-radius: 18px;
        text-align: center; transition: 0.3s;
    }
    .use-case-card:hover { background: rgba(255,255,255,0.05); border-color: var(--accent); }
    .use-case-card h3 { font-size: 13px; text-transform: uppercase; margin-top: 10px; color: var(--text-main); }

    .why-section { 
        padding: 30px; background: linear-gradient(to right, rgba(56,189,248,0.05), transparent);
        border-left: 3px solid var(--neon-blue); border-radius: 12px; margin: 40px 0;
    }
    .why-section h2 { font-size: 18px; color: var(--neon-blue); margin-bottom: 10px; }
    .why-section p { font-size: 14px; color: var(--text-soft); line-height: 1.6; }

    /* --- ADDED CONTENT STYLES --- */
    .nav-menu {
        display: flex; justify-content: center; gap: 20px; margin-bottom: 20px;
        background: rgba(15, 23, 42, 0.6); padding: 10px 20px; border-radius: 50px; border: 1px solid var(--border);
        backdrop-filter: blur(5px);
    }
    .nav-menu a { color: var(--text-soft); text-decoration: none; font-size: 12px; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; transition: color 0.3s; }
    .nav-menu a:hover, .nav-menu a.active { color: var(--neon-blue); }

    .content-expansion { margin-top: 50px; text-align: left; border-top: 1px solid var(--border); padding-top: 40px; }
    .content-expansion h2 { color: white; font-size: 22px; margin-bottom: 20px; font-weight: 700; letter-spacing: -0.5px; }
    .content-expansion h3 { color: var(--neon-blue); font-size: 16px; margin: 25px 0 10px; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; }
    .content-expansion p { color: #cbd5e1; line-height: 1.8; font-size: 15px; margin-bottom: 15px; }
    .content-expansion ul { margin-bottom: 20px; padding-left: 20px; }
    .content-expansion li { color: #cbd5e1; margin-bottom: 10px; font-size: 15px; line-height: 1.6; }
    
    .hidden-page { display: none; margin-top: 20px; animation: fadeIn 0.5s ease; }

    /* --- NEW MODULE STYLES (DEVELOPER MODE ADDITIONS) --- */
    .new-module-container { display: none; margin-top: 20px; padding: 20px; border-radius: 16px; background: rgba(0,0,0,0.3); border: 1px solid var(--border); text-align: left; }
    .new-module-container.active-mod { display: block; animation: slideDown 0.3s ease-out; }
    @keyframes slideDown { from {opacity:0; transform:translateY(-10px);} to {opacity:1; transform:translateY(0);} }

    .mod-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; border-bottom: 1px solid var(--border); padding-bottom: 10px; }
    .mod-title { font-size: 16px; font-weight: 700; color: var(--neon-blue); text-transform: uppercase; letter-spacing: 1px; }
    .mod-close { cursor: pointer; color: var(--text-soft); font-size: 18px; background: none; border: none; }
    
    .mod-grid-buttons { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 15px; }
    .mod-btn { padding: 12px; border-radius: 8px; border: 1px solid var(--border); background: rgba(255,255,255,0.05); color: white; cursor: pointer; font-size: 13px; transition: 0.2s; }
    .mod-btn:hover { background: rgba(255,255,255,0.1); border-color: var(--neon-blue); }
    .mod-btn-primary { background: var(--neon-blue); color: #0f172a; border: none; font-weight: 700; }
    .mod-btn-danger { background: var(--sos-red); color: white; border: none; font-weight: 700; }

    .mod-input { width: 100%; padding: 12px; background: rgba(0,0,0,0.2); border: 1px solid var(--border); color: white; border-radius: 8px; margin-bottom: 10px; outline: none; }
    .mod-input:focus { border-color: var(--neon-blue); }

    .sos-overlay { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: #3f0000; z-index: 9999; display: none; flex-direction: column; align-items: center; justify-content: center; animation: sosFlash 1s infinite; }
    @keyframes sosFlash { 0% {background:#3f0000;} 50% {background:#7f1d1d;} 100% {background:#3f0000;} }
    .sos-msg { font-size: 24px; font-weight: 900; color: white; margin-bottom: 30px; text-align: center; padding: 20px; }
    
    .driver-hud { display: flex; justify-content: space-around; margin: 15px 0; background: rgba(0,0,0,0.4); padding: 15px; border-radius: 12px; }
    .hud-item { text-align: center; }
    .hud-val { font-size: 24px; font-weight: 800; color: white; display: block; }
    .hud-lbl { font-size: 10px; text-transform: uppercase; color: var(--text-soft); }

    .pin-list { margin-top: 10px; max-height: 150px; overflow-y: auto; }
    .pin-item { padding: 8px; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; font-size: 12px; }
    .offline-badge { display: inline-block; padding: 4px 8px; background: #64748b; color: white; font-size: 10px; border-radius: 4px; margin-left: 10px; vertical-align: middle; display: none; }

    /* --- FAQ & ACCORDION STYLES --- */
    details.faq-item { background: rgba(255,255,255,0.02); margin-bottom: 10px; border-radius: 12px; border: 1px solid var(--border); overflow: hidden; transition: 0.3s; }
    details.faq-item:hover { border-color: var(--neon-blue); }
    summary.faq-q { padding: 15px; font-weight: 600; cursor: pointer; list-style: none; display: flex; justify-content: space-between; align-items: center; }
    summary.faq-q::-webkit-details-marker { display: none; }
    summary.faq-q::after { content: '+'; font-size: 18px; color: var(--neon-blue); transition: transform 0.2s; }
    details[open] summary.faq-q::after { transform: rotate(45deg); }
    .faq-a { padding: 15px; padding-top: 0; color: var(--text-soft); font-size: 14px; line-height: 1.6; border-top: 1px solid rgba(255,255,255,0.05); }
</style>
</head> <body>

<div class="shell premium-upgrade-container">

<nav class="nav-menu">
    <a href="#" onclick="showPage('home'); return false;" class="active">Home</a>
    <a href="#about" onclick="showPage('about'); return false;">About</a>
    <a href="#privacy" onclick="showPage('privacy'); return false;">Privacy</a>
    <a href="#contact" onclick="showPage('contact'); return false;">Contact</a>
</nav>

<div id="home-view">
    <div class="qr-section">
        <div class="qr-label">Scan to Share Location</div>
        <div id="qrcode"></div>
    </div>

    <div class="lang-switch">
        <select id="language" onchange="changeLanguage(this.value)">
            <option value="en">üá∫üá∏ English</option>
            <option value="es">üá™üá∏ Espa√±ol</option>
            <option value="fr">üá´üá∑ Fran√ßais</option>
            <option value="ru">üá∑üá∫ –†—É—Å—Å–∫–∏–π</option>
            <option value="ar">üá∏üá¶ ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
        </select>
    </div>

    <header class="brand">
        <h1>TELLMY<span>LOCATION</span>.COM <span id="offline-indicator" class="offline-badge">OFFLINE</span></h1>
        <p class="tagline" data-i18n="tagline">The fastest "Where am I?" tool on the internet.</p>
    </header>

    <div class="compass-wrap">
        <svg id="compass-svg" viewBox="0 0 100 100">
            <circle cx="50" cy="50" r="48" class="compass-ring"/>
            <circle cx="50" cy="50" r="45" class="compass-glow" stroke-dasharray="5,5"/>
            <text x="50" y="12" fill="#38bdf8" font-size="8" text-anchor="middle" font-weight="900">N</text>
            <text x="50" y="93" fill="#94a3b8" font-size="6" text-anchor="middle">S</text>
            <text x="88" y="52" fill="#94a3b8" font-size="6" text-anchor="middle">E</text>
            <text x="12" y="52" fill="#94a3b8" font-size="6" text-anchor="middle">W</text>
            <path d="M50 20 L55 50 L50 80 L45 50 Z" fill="#ff0055" />
            <circle cx="50" cy="50" r="3" fill="white" />
        </svg>
    </div>

    <main class="card">
        <div class="address-box">
            <h2 data-i18n="address_title">üìç Current Address</h2>
            <div id="full-address">...</div>
            <button class="icon-btn copy-abs" id="copy-addr" title="Copy Address">
                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
            </button>
        </div>

        <div id="map"></div>

        <div class="premium-dashboard">
            <div class="p-card">
                <span class="p-icon">üõ∞Ô∏è</span>
                <span class="p-label">Altitude</span>
                <span class="p-value" id="alt-p">‚Äî</span>
            </div>
            <div class="p-card">
                <span class="p-icon">üß≠</span>
                <span class="p-label">Bearing</span>
                <span class="p-value" id="head-p">‚Äî</span>
            </div>
            <div class="p-card">
                <span class="p-icon">üõ°Ô∏è</span>
                <span class="p-label">Security</span>
                <span class="p-value">Encrypted</span>
            </div>
            <div class="p-card">
                <span class="p-icon">üïí</span>
                <span class="p-label">Timestamp</span>
                <span class="p-value" id="time-p">00:00:00</span>
            </div>
        </div>

        <div class="data-grid">
            <div class="data-item">
                <div class="label" data-i18n="gps_label">üåç GPS Coordinates</div>
                <div class="value"><span id="lat-val">‚Äî</span>, <span id="lng-val">‚Äî</span></div>
                <div class="sub-value" id="accuracy-val">...</div>
            </div>
            <div class="data-item">
                <div class="label" data-i18n="weather_label">‚òÅÔ∏è Weather</div>
                <div class="value" id="temp-display">‚Äî</div>
                <div class="sub-value" id="wind-display">Wind: ‚Äî</div>
            </div>
            <div class="data-item">
                <div class="label" data-i18n="ip_label">üåê Network IP</div>
                <div class="value" id="ip-val" style="font-size:14px">‚Äî</div>
                <div class="sub-value" id="isp-val">ISP: ‚Äî</div>
            </div>
        </div>

        <div class="nearby-header">
            <svg style="width:14px;height:14px;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>
            <span data-i18n="nearby_label">üì° Nearest Emergency Services</span>
        </div>
        <div class="nearby-list" id="nearby-results">
            <div class="nearby-item">...</div>
            <div class="nearby-item">...</div>
            <div class="nearby-item">...</div>
        </div>

        <div class="btn-stack">
            <button class="btn btn-sos" id="sos-btn">
                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path></svg>
                <span data-i18n="btn_sos">ONE-TAP SOS SHARE</span>
            </button>
            <div class="btn-row">
                <button class="btn btn-primary" id="refresh-btn">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg>
                    <span data-i18n="btn_refresh">Refresh</span>
                </button>
                <button class="btn btn-ghost" id="copy-coords-btn">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
                    <span data-i18n="btn_copy">Copy Lat/Long</span>
                </button>
            </div>
            
            <div class="btn-row" style="margin-top:10px;">
                <button class="btn" onclick="toggleModule('driver-mod')" style="background:rgba(56, 189, 248, 0.15); color:#38bdf8; border:1px solid rgba(56, 189, 248, 0.3);">
                    <span>üöó Driver Mode</span>
                </button>
                <button class="btn" onclick="toggleModule('hiker-mod')" style="background:rgba(16, 185, 129, 0.15); color:#10b981; border:1px solid rgba(16, 185, 129, 0.3);">
                    <span>üå≤ Hiker Mode</span>
                </button>
            </div>
            <div class="btn-row" style="margin-top:0px;">
                <button class="btn" onclick="toggleModule('friend-mod')" style="background:rgba(255, 204, 0, 0.15); color:#fbbf24; border:1px solid rgba(255, 204, 0, 0.3);">
                    <span>ü§ù Meet Friend</span>
                </button>
                <button class="btn" onclick="toggleModule('share-mod')" style="background:rgba(255, 255, 255, 0.1); color:white; border:1px solid rgba(255, 255, 255, 0.3);">
                    <span>üîó Share Link</span>
                </button>
            </div>
            <div class="btn-row">
                <button class="btn" style="background:#10b981; color:white; padding:10px; font-size:12px; box-shadow:0 0 10px rgba(16,185,129,0.4);" onclick="window.open('[https://buymeacoffee.com/donshehab](https://buymeacoffee.com/donshehab)')">
                    <svg class="icon" style="width:14px; height:14px;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M18 8h1a4 4 0 0 1 0 8h-1"></path><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"></path></svg>
                    <span>Coffee</span>
                </button>
                <button class="btn" style="background:#ffcc00; color:black; font-weight:800; padding:10px; font-size:11px; box-shadow:0 0 15px rgba(255,204,0,0.6);" onclick="window.open('[https://waterinmyspeaker.com](https://waterinmyspeaker.com)')">
                    <span>CHECK OTHER TOOL</span>
                </button>
            </div>
        </div>

        <div id="new-modules-container">
            
            <div id="driver-mod" class="new-module-container">
                <div class="mod-header">
                    <span class="mod-title">Driver Dashboard</span>
                    <button class="mod-close" onclick="toggleModule('driver-mod')">‚úï</button>
                </div>
                <div class="driver-hud">
                    <div class="hud-item"><span class="hud-val" id="drv-speed">0</span><span class="hud-lbl">MPH</span></div>
                    <div class="hud-item"><span class="hud-val" id="drv-dir">--</span><span class="hud-lbl">Heading</span></div>
                </div>
                <div class="mod-grid-buttons">
                    <button class="mod-btn" onclick="openMapSearch('gas_station')">‚õΩ Gas Stations</button>
                    <button class="mod-btn" onclick="openMapSearch('parking')">üÖøÔ∏è Rest Stops</button>
                    <button class="mod-btn" onclick="shareETA()">‚è±Ô∏è Send ETA</button>
                    <button class="mod-btn" onclick="shareLocationSimple()">üìç Share Location</button>
                </div>
            </div>

            <div id="hiker-mod" class="new-module-container">
                <div class="mod-header">
                    <span class="mod-title">Hiker Tools</span>
                    <button class="mod-close" onclick="toggleModule('hiker-mod')">‚úï</button>
                </div>
                <div style="font-size:12px; color:#94a3b8; margin-bottom:10px;">Offline caching enabled. Pins saved locally.</div>
                <div class="mod-grid-buttons">
                    <button class="mod-btn mod-btn-primary" onclick="dropPin()">üìç Drop Pin</button>
                    <button class="mod-btn" onclick="clearPins()">üóëÔ∏è Clear Pins</button>
                </div>
                <div id="pin-list" class="pin-list"></div>
            </div>

            <div id="friend-mod" class="new-module-container">
                <div class="mod-header">
                    <span class="mod-title">Meet a Friend</span>
                    <button class="mod-close" onclick="toggleModule('friend-mod')">‚úï</button>
                </div>
                <input type="text" id="friend-input" class="mod-input" placeholder="Paste friend's coords (lat,lng) or link...">
                <button class="mod-btn mod-btn-primary" style="width:100%" onclick="calcFriendDist()">Calculate Distance & Midpoint</button>
                <div id="friend-res" style="margin-top:10px; font-size:14px; color:white;"></div>
            </div>

            <div id="share-mod" class="new-module-container">
                <div class="mod-header">
                    <span class="mod-title">Share Location</span>
                    <button class="mod-close" onclick="toggleModule('share-mod')">‚úï</button>
                </div>
                <input type="text" id="share-url-input" class="mod-input" readonly>
                <div class="mod-grid-buttons">
                    <button class="mod-btn mod-btn-primary" onclick="copyShareLink()">üìã Copy Link</button>
                    <button class="mod-btn" onclick="startLiveTrack()" id="live-trk-btn">üì° Start Live (15m)</button>
                </div>
                <div style="margin-top:15px; display:flex; gap:10px; flex-wrap:wrap; justify-content:center;">
                    <button class="mod-btn" onclick="shareSocial('wa')">WhatsApp</button>
                    <button class="mod-btn" onclick="shareSocial('sms')">SMS</button>
                    <button class="mod-btn" onclick="shareSocial('tg')">Telegram</button>
                </div>
            </div>
        </div>
        <section class="why-section">
            <h2>Why This Interface Matters</h2>
            <p>TellMyLocation utilizes high-frequency satellite pings combined with low-latency network triangulation to deliver hyper-accurate data in milliseconds. We prioritize privacy by ensuring zero data persistence on our backend‚Äîyour location is your business.</p>
        </section>

        <div class="use-case-grid">
            <div class="use-case-card"><span>üöö</span><h3>Delivery Drivers</h3></div>
            <div class="use-case-card"><span>üö®</span><h3>Emergency SOS</h3></div>
            <div class="use-case-card"><span>üèîÔ∏è</span><h3>Hikers/Travelers</h3></div>
            <div class="use-case-card"><span>ü§ù</span><h3>Meeting Friends</h3></div>
        </div>

        <div class="content-expansion">
            <h2>Understanding Geolocation Technology</h2>
            <p>In the digital age, the question "Where am I?" is answered by a complex web of technologies working in unison. The most precise method is the <strong>Global Positioning System (GPS)</strong>, which uses a network of over 30 satellites orbiting the Earth. When your device connects to at least four of these satellites, it calculates your exact position through trilateration, often achieving accuracy within a few meters.</p>
            <p>However, when GPS signals are blocked‚Äîsuch as when you are indoors or in a dense urban canyon‚Äîyour device falls back on <strong>IP Geolocation</strong>. Every device connected to the internet has an Internet Protocol (IP) address. Services map these addresses to physical locations based on data from Internet Service Providers (ISPs). While faster, IP location is generally less precise, often pointing to a city center or an ISP hub rather than your specific building.</p>

            <h3>Maximizing Safety in a Connected World</h3>
            <ul>
                <li><strong>Context Aware Sharing:</strong> Only share your live location for specific purposes, such as meeting a friend or during an emergency. Avoid posting live coordinates on public social media feeds.</li>
                <li><strong>Browser Permissions:</strong> Modern browsers require your explicit permission to access GPS data. TellMyLocation.com operates strictly within these boundaries‚Äîonce you close the tab, your location session ends.</li>
                <li><strong>Emergency Preparedness:</strong> In critical situations where voice calls are impossible, sending a silent GPS text message (like our SOS feature) can be a lifeline for first responders.</li>
            </ul>

            <h3>Real-World Utility</h3>
            <p>Beyond emergencies, precise coordinates are vital for professionals and hobbyists alike. <strong>Delivery drivers</strong> use them to pinpoint unmapped entrances. <strong>Landscape photographers</strong> log specific spots to return when the lighting is perfect. <strong>Drone pilots</strong> need exact latitude and longitude to respect no-fly zones and plan flight paths. By providing raw, unadulterated data, this tool serves as a Swiss Army knife for location-based tasks.</p>
        </div>

        <div class="content-expansion" style="border-top: 1px solid var(--border); margin-top: 30px; padding-top: 30px;">
            
            <h3>üö® Emergency & Safety Layer</h3>
            <p>When every second counts, knowing your exact coordinates can be the difference between life and death. Emergency dispatchers often struggle to locate callers from mobile signals alone. By reading your Latitude and Longitude directly from this tool, you provide first responders with pinpoint accuracy.</p>
            <ul>
                <li><strong>Silent SOS:</strong> Our One-Tap SOS feature generates a pre-filled text message with your coordinates, allowing you to signal for help without speaking.</li>
                <li><strong>Drift Correction:</strong> We monitor signal drift to ensure the coordinates you see are stabilized before you share them.</li>
            </ul>

            <h3>üõ†Ô∏è Global Utility Tools</h3>
            <p>We support universal standards for location data. Whether you are a pilot, a surveyor, or a developer, we provide raw data access.</p>
            <ul>
                <li><strong>Formats:</strong> We display Decimal Degrees (DD) by default, the standard for digital mapping.</li>
                <li><strong>Altitude:</strong> Using barometric sensors (where available) and GPS triangulation to estimate height above sea level.</li>
                <li><strong>ISP Data:</strong> We cross-reference your IP address to identify your network provider, helping diagnose connectivity issues.</li>
            </ul>

            <h3>‚úàÔ∏è Travel & Navigation</h3>
            <p>Modern travel requires more than just a destination; it requires orientation. This tool is designed for the "Last Mile" of navigation.</p>
            <ul>
                <li><strong>Boating & Marine:</strong> Use our bearing and compass tools to verify heading when visual landmarks are obscured by fog.</li>
                <li><strong>Urban Exploration:</strong> Navigate dense city streets where skyscraper interference often confuses standard map apps.</li>
            </ul>

            <h3>üì° Live Tracking (Privacy First)</h3>
            <p>Most tracking apps require accounts, logins, and permanent history. We reject that model. Our "Live Tracking" is ephemeral.</p>
            <ul>
                <li><strong>Session Based:</strong> Tracking exists only as long as you keep the tab open.</li>
                <li><strong>No Database:</strong> We do not write your movement history to a disk. It flows from your device to your recipient directly via signed URLs.</li>
            </ul>

            <h3>üå≤ Offline Survival Mode</h3>
            <p>This tool is PWA-ready (Progressive Web App). Once loaded, the core GPS functionality works without a data connection.</p>
            <ul>
                <li><strong>Cached Resources:</strong> The interface remains functional even in "Airplane Mode".</li>
                <li><strong>Hardware Access:</strong> Your phone's GPS chip does not require cellular data to receive satellite signals, meaning you can still find your coordinates in the middle of a desert.</li>
            </ul>

            <h3>üìä Data & Analytics</h3>
            <p>We provide transparency on signal quality. The "Accuracy" reading (e.g., ¬±5m) tells you exactly how much trust to place in the current reading.</p>
            
            <h3>üîó Share & Export</h3>
            <p>Seamlessly move data from our tool to your favorite apps. We support deep-linking to Google Maps, Apple Maps, Waze, and OpenStreetMap.</p>

            <h3>ü§ñ AI & Smart Positioning</h3>
            <p>We use lightweight heuristic algorithms to filter out "noise" from GPS jumps, providing a smoother location experience than raw sensor data alone.</p>

            <h3>üîå API Access (Coming Soon)</h3>
            <p>Developers will soon be able to integrate our lightweight geolocation engine into their own apps via a simple REST API. Stay tuned.</p>

            <h3>üîç Search & Discovery</h3>
            <p>Common queries solved by this tool: <em>"What is my zip code?"</em>, <em>"What city am I in right now?"</em>, <em>"My elevation"</em>, and <em>"Current GPS coordinates"</em>. We answer these instantly without clutter.</p>

            <h3>‚ùì Frequently Asked Questions</h3>
            
            <details class="faq-item">
                <summary class="faq-q">Is this tool free to use?</summary>
                <div class="faq-a">Yes, TellMyLocation is 100% free. We are supported by minimal, non-intrusive ads.</div>
            </details>
            
            <details class="faq-item">
                <summary class="faq-q">Do you save my location history?</summary>
                <div class="faq-a">Absolutely not. Your location data is processed locally on your device and is never stored on our servers.</div>
            </details>

            <details class="faq-item">
                <summary class="faq-q">Why is the location slightly off?</summary>
                <div class="faq-a">GPS accuracy depends on your view of the sky. Indoors, your device uses Wi-Fi triangulation which is less precise (¬±30m) than satellite GPS (¬±5m).</div>
            </details>

            <details class="faq-item">
                <summary class="faq-q">Does this work without internet?</summary>
                <div class="faq-a">Yes! If you have already loaded the page, the GPS coordinates will continue to update offline using your device's sensors. Map tiles, however, require internet.</div>
            </details>

            <details class="faq-item">
                <summary class="faq-q">How do I share my location?</summary>
                <div class="faq-a">Click the "Share Link" button to copy a URL, or use the "One-Tap SOS" to draft a text message with your coordinates.</div>
            </details>

            <details class="faq-item">
                <summary class="faq-q">Does this drain my battery?</summary>
                <div class="faq-a">GPS is battery-intensive. We optimize this by only querying high-accuracy location while the tab is active. Closing the tab stops the battery drain.</div>
            </details>

            <details class="faq-item">
                <summary class="faq-q">Can I use this on a desktop computer?</summary>
                <div class="faq-a">Yes, but desktop accuracy is lower as it relies on IP address and Wi-Fi networks rather than a dedicated GPS chip.</div>
            </details>

            <details class="faq-item">
                <summary class="faq-q">What is "Hiker Mode"?</summary>
                <div class="faq-a">Hiker Mode enables a simplified interface that allows you to drop temporary pins to mark your path, which is useful for backtracking.</div>
            </details>

            <details class="faq-item">
                <summary class="faq-q">What is "Driver Mode"?</summary>
                <div class="faq-a">Driver Mode enlarges the text for speed and heading, making it safer to glance at while mounting your phone in a vehicle.</div>
            </details>

            <details class="faq-item">
                <summary class="faq-q">How does the SOS feature work?</summary>
                <div class="faq-a">It creates a pre-filled SMS or WhatsApp message with your coordinates and a "Help me" text. You must still press "Send" on your device.</div>
            </details>

            <details class="faq-item">
                <summary class="faq-q">Why does it ask for permission?</summary>
                <div class="faq-a">Browser security requires your explicit consent to access the GPS hardware. We cannot see your location without this permission.</div>
            </details>

            <details class="faq-item">
                <summary class="faq-q">Can I find someone else's location?</summary>
                <div class="faq-a">No. This tool is for finding *your* location. You cannot track others unless they voluntarily send you their link.</div>
            </details>

            <details class="faq-item">
                <summary class="faq-q">What is the "Coffee" button?</summary>
                <div class="faq-a">It links to a donation page to help support the developers who maintain this free tool.</div>
            </details>

            <details class="faq-item">
                <summary class="faq-q">Is the weather accurate?</summary>
                <div class="faq-a">We use the Open-Meteo API which aggregates data from national weather services for high local accuracy.</div>
            </details>

            <details class="faq-item">
                <summary class="faq-q">What datum format is used?</summary>
                <div class="faq-a">We use WGS84, the standard coordinate system for GPS, ensuring compatibility with Google Maps and Apple Maps.</div>
            </details>

            <details class="faq-item">
                <summary class="faq-q">Can I measure distance?</summary>
                <div class="faq-a">Yes, use the "Meet Friend" module to calculate the distance and midpoint between you and another set of coordinates.</div>
            </details>

            <details class="faq-item">
                <summary class="faq-q">Does VPN affect accuracy?</summary>
                <div class="faq-a">If you are on a desktop without GPS, a VPN will mask your location. On mobile, GPS data overrides the VPN IP location.</div>
            </details>

            <details class="faq-item">
                <summary class="faq-q">How do I copy my address?</summary>
                <div class="faq-a">Click the small "Copy" icon next to the address display box at the top of the card.</div>
            </details>

            <details class="faq-item">
                <summary class="faq-q">Is there a dark mode?</summary>
                <div class="faq-a">The site is built in Dark Mode by default to save battery on OLED screens and reduce eye strain at night.</div>
            </details>

            <details class="faq-item">
                <summary class="faq-q">How do I report a bug?</summary>
                <div class="faq-a">Please use the "Contact Us" link in the footer to send us an email.</div>
            </details>
        </div>
        <p class="trust-badge">
            <span data-i18n="trust_text">üîí Privacy Guarantee: We do not save, need, or share your location. This website exists solely to help you or save you when needed. All data is processed securely on your device.</span>
        </p>
    </main>
</div>

<div id="sos-overlay" class="sos-overlay">
    <div class="sos-msg">EMERGENCY SOS ACTIVE</div>
    <button class="mod-btn" style="background:white; color:red; padding:20px 40px; font-size:18px;" onclick="stopSOS()">STOP ALARM</button>
    <div style="margin-top:20px; color:white;">Sharing location...</div>
</div>

<main id="about-page" class="card hidden-page">
    <div class="content-expansion" style="margin-top:0; border-top:none;">
        <h2>About TellMyLocation</h2>
        <p>We are a team of privacy-focused developers and outdoor enthusiasts who realized that most location tools are either too complex, riddled with invasive tracking, or slow to load. Our mission was simple: build the fastest, cleanest, and most secure "Where Am I" utility on the web.</p>
        <h3>Our Philosophy</h3>
        <p>Data should serve the user, not the corporation. That is why TellMyLocation is built as a client-side application. We do not store your history. We do not build profiles. We simply give you the data you need‚ÄîCoordinates, Address, Weather‚Äîand then we get out of your way.</p>
    </div>
</main>

<main id="privacy-page" class="card hidden-page">
    <div class="content-expansion" style="margin-top:0; border-top:none;">
        <h2>Privacy Policy</h2>
        <p><strong>Last Updated: February 2026</strong></p>
        <p>Your privacy is non-negotiable. This policy outlines exactly how TellMyLocation.com handles your data.</p>
        
        <h3>1. Location Data</h3>
        <p>We do not store, record, or transmit your GPS coordinates to any private server. Your location data is retrieved by your browser directly from your device's GPS hardware and is processed locally to display on your screen. The only time coordinates leave your device is when you explicitly use the "Share" or "SOS" features.</p>

        <h3>2. Third-Party Services</h3>
        <p>We utilize trusted third-party APIs to provide functionality: OpenStreetMap (for map tiles) and Open-Meteo (for weather data). These services receive coordinate requests to generate maps/weather but do not receive your personal identity.</p>

        <h3>3. Cookies & Advertising</h3>
        <p>We use Google AdSense to serve advertisements. Google uses cookies to serve ads based on your prior visits to this website or other websites. You may opt-out of personalized advertising by visiting Google's Ads Settings.</p>
    </div>
</main>

<main id="contact-page" class="card hidden-page">
    <div class="content-expansion" style="margin-top:0; border-top:none;">
        <h2>Contact Us</h2>
        <p>Have a suggestion, found a bug, or want to share how this tool helped you? We'd love to hear from you.</p>
        <h3>Get in Touch</h3>
        <p><strong>Email:</strong> support@tellmylocation.com</p>
        <p><strong>Business Hours:</strong> Mon-Fri, 9am - 5pm CST</p>
        <p>For technical support regarding the API integrations or map rendering, please include your device model and browser version in your email.</p>
    </div>
</main>

<footer>
    <div style="margin-bottom: 12px;">
        <a href="#" onclick="showPage('privacy'); return false;" data-i18n="link_privacy">Privacy Policy</a> ‚Ä¢ 
        <a href="#" onclick="showPage('about'); return false;" data-i18n="link_terms">Terms of Use</a> ‚Ä¢ 
        <a href="#" onclick="showPage('contact'); return false;" data-i18n="link_contact">Contact Us</a>
    </div>
    ¬© 2026 TellMyLocation.com
</footer>

</div>

<div id="cookie-banner"> <div id="cookie-text" data-i18n="cookie_text">We use cookies to analyze traffic and show personalized ads to support this free tool.</div> <button id="cookie-btn" onclick="acceptCookies()" data-i18n="btn_accept">I Accept</button> </div>

<script>     
    // Remove active class from nav
    document.querySelectorAll(&#39;.nav-menu a&#39;).forEach(el =&gt; el.classList.remove(&#39;active&#39;));

    // Show selected view
    if (pageId === &#39;home&#39;) {
        document.getElementById(&#39;home-view&#39;).style.display = &#39;block&#39;;
        document.querySelector(&#39;.nav-menu a[href=&quot;#&quot;]&#39;).classList.add(&#39;active&#39;);
    } else {
        document.getElementById(pageId + &#39;-page&#39;).style.display = &#39;block&#39;;
        document.querySelector(&#39;.nav-menu a[href=&quot;#&#39; + pageId + &#39;&quot;]&#39;).classList.add(&#39;active&#39;);
    }
    
    // Scroll to top
    window.scrollTo({ top: 0, behavior: &#39;smooth&#39; });
}

/* EXISTING LOGIC PRESERVED BELOW */

// Generate QR Code
new QRCode(document.getElementById(&quot;qrcode&quot;), {
    text: window.location.href,
    width: 100,
    height: 100,
    colorDark : &quot;#000000&quot;,
    colorLight : &quot;#ffffff&quot;,
    correctLevel : QRCode.CorrectLevel.H
});

// Real-time Compass Orientation logic
window.addEventListener(&#39;deviceorientation&#39;, function(event) {
    if (event.webkitCompassHeading) {
        document.getElementById(&#39;compass-svg&#39;).style.transform = `rotate(${-event.webkitCompassHeading}deg)`;
        document.getElementById(&#39;head-p&#39;).textContent = Math.round(event.webkitCompassHeading) + &#39;¬∞&#39;;
    } else if (event.alpha) {
        document.getElementById(&#39;compass-svg&#39;).style.transform = `rotate(${-event.alpha}deg)`;
        document.getElementById(&#39;head-p&#39;).textContent = Math.round(event.alpha) + &#39;¬∞&#39;;
    }
}, true);

// Update Premium Dashboard Clock
setInterval(() =&gt; {
    const now = new Date();
    document.getElementById(&#39;time-p&#39;).textContent = now.toLocaleTimeString([], {hour: &#39;2-digit&#39;, minute:&#39;2-digit&#39;, second:&#39;2-digit&#39;});
}, 1000);

/* ORIGINAL SCRIPT CONTINUES BELOW 
*/
const i18n = {
    en: {
        tagline: &quot;The fastest &#39;Where am I?&#39; tool on the internet.&quot;,
        address_title: &quot;Current Address&quot;,
        gps_label: &quot;GPS Coordinates&quot;,
        weather_label: &quot;Weather&quot;,
        ip_label: &quot;Network IP&quot;,
        nearby_label: &quot;Nearest Emergency Services&quot;,
        btn_sos: &quot;ONE-TAP SOS SHARE&quot;,
        btn_refresh: &quot;Refresh&quot;,
        btn_copy: &quot;Copy Lat/Long&quot;,
        btn_coffee: &quot;Buy Me a Coffee&quot;,
        trust_text: &quot;üîí Privacy Guarantee: We do not save, need, or share your location. This website exists solely to help you or save you when needed. All data is processed securely on your device.&quot;,
        link_privacy: &quot;Privacy Policy&quot;, link_terms: &quot;Terms of Use&quot;, link_contact: &quot;Contact Us&quot;,
        cookie_text: &quot;We use cookies to analyze traffic and show personalized ads to support this free tool.&quot;,
        btn_accept: &quot;I Accept&quot;
    },
    es: {
        tagline: &quot;La herramienta &#39;¬øD√≥nde estoy?&#39; m√°s r√°pida de internet.&quot;,
        address_title: &quot;Direcci√≥n Actual&quot;,
        gps_label: &quot;Coordenadas GPS&quot;,
        weather_label: &quot;Clima&quot;,
        ip_label: &quot;IP de Red&quot;,
        nearby_label: &quot;Servicios de Emergencia&quot;,
        btn_sos: &quot;SOS - COMPARTIR UBICACI√ìN&quot;,
        btn_refresh: &quot;Actualizar&quot;,
        btn_copy: &quot;Copiar Lat/Long&quot;,
        btn_coffee: &quot;Inv√≠tame un Caf√©&quot;,
        trust_text: &quot;üîí Garant√≠a de Privacidad: No guardamos, necesitamos ni compartimos tu ubicaci√≥n. Este sitio existe solo para ayudarte o salvarte cuando sea necesario.&quot;,
        link_privacy: &quot;Privacidad&quot;, link_terms: &quot;T√©rminos&quot;, link_contact: &quot;Contacto&quot;,
        cookie_text: &quot;Usamos cookies para analizar el tr√°fico y mostrar anuncios personalizados.&quot;,
        btn_accept: &quot;Aceptar&quot;
    },
    fr: {
        tagline: &quot;L&#39;outil &#39;O√π suis-je ?&#39; le plus rapide d&#39;internet.&quot;,
        address_title: &quot;Adresse Actuelle&quot;,
        gps_label: &quot;Coordonn√©es GPS&quot;,
        weather_label: &quot;M√©t√©o&quot;,
        ip_label: &quot;IP R√©seau&quot;,
        nearby_label: &quot;Services d&#39;Urgence Proches&quot;,
        btn_sos: &quot;SOS - PARTAGER MA POSITION&quot;,
        btn_refresh: &quot;Actualiser&quot;,
        btn_copy: &quot;Copiar Lat/Long&quot;,
        btn_coffee: &quot;Offrez-moi un caf√©&quot;,
        trust_text: &quot;üîí Garantie de Confidentialit√© : Nous n&#39;enregistrons ni ne partageons votre localisation. Ce site existe uniquement pour vous aider ou vous sauver en cas de besoin.&quot;,
        link_privacy: &quot;Confidentialit√©&quot;, link_terms: &quot;Conditions&quot;, link_contact: &quot;Contact&quot;,
        cookie_text: &quot;Nous utilisons des cookies pour analyser le trafic et afficher des publicit√©s.&quot;,
        btn_accept: &quot;Accepter&quot;
    },
    ru: {
        tagline: &quot;–°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è.&quot;,
        address_title: &quot;–¢–µ–∫—É—â–∏–π –∞–¥—Ä–µ—Å&quot;,
        gps_label: &quot;–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã GPS&quot;,
        weather_label: &quot;–ü–æ–≥–æ–¥–∞&quot;,
        ip_label: &quot;IP-–∞–¥—Ä–µ—Å —Å–µ—Ç–∏&quot;,
        nearby_label: &quot;–ë–ª–∏–∂–∞–π—à–∏–µ —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã–µ —Å–ª—É–∂–±—ã&quot;,
        btn_sos: &quot;SOS - –û–¢–ü–†–ê–í–ò–¢–¨ –ì–ï–û–ü–û–ó–ò–¶–ò–Æ&quot;,
        btn_refresh: &quot;–û–±–Ω–æ–≤–∏—Ç—å&quot;,
        btn_copy: &quot;–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å&quot;,
        btn_coffee: &quot;–ö—É–ø–∏—Ç—å –º–Ω–µ –∫–æ—Ñ–µ&quot;,
        trust_text: &quot;üîí –ì–∞—Ä–∞–Ω—Ç–∏—è –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏: –ú—ã –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –∏ –Ω–µ –ø–µ—Ä–µ–¥–∞–µ–º –≤–∞—à–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ. –≠—Ç–æ—Ç —Å–∞–π—Ç —Å–æ–∑–¥–∞–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–º–æ—á—å –≤–∞–º –≤ —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏.&quot;,
        link_privacy: &quot;–ü–æ–ª–∏—Ç–∏–∫–∞&quot;, link_terms: &quot;–£—Å–ª–æ–≤–∏—è&quot;, link_contact: &quot;–ö–æ–Ω—Ç–∞–∫—Ç—ã&quot;,
        cookie_text: &quot;–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ñ–∞–π–ª—ã cookie –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ç—Ä–∞—Ñ–∏–∫–∞ –∏ –ø–æ–∫–∞–∑–∞ —Ä–µ–∫–ª–∞–º—ã.&quot;,
        btn_accept: &quot;–ü—Ä–∏–Ω—è—Ç—å&quot;
    },
    ar: {
        tagline: &quot;ÿ£ÿ≥ÿ±ÿπ ÿ£ÿØÿßÿ© ŸÑŸÖÿπÿ±ŸÅÿ© ŸÖŸàŸÇÿπŸÉ ÿßŸÑÿ≠ÿßŸÑŸä ÿπŸÑŸâ ÿßŸÑÿ•ŸÜÿ™ÿ±ŸÜÿ™.&quot;,
        address_title: &quot;ÿßŸÑÿπŸÜŸàÿßŸÜ ÿßŸÑÿ≠ÿßŸÑŸä&quot;,
        gps_label: &quot;ÿ•ÿ≠ÿØÿßÿ´Ÿäÿßÿ™ GPS&quot;,
        weather_label: &quot;ÿßŸÑÿ∑ŸÇÿ≥&quot;,
        ip_label: &quot;ÿπŸÜŸàÿßŸÜ IP&quot;,
        nearby_label: &quot;ÿ£ŸÇÿ±ÿ® ÿÆÿØŸÖÿßÿ™ ÿßŸÑÿ∑Ÿàÿßÿ±ÿ¶&quot;,
        btn_sos: &quot;SOS - ŸÖÿ¥ÿßÿ±ŸÉÿ© ÿßŸÑŸÖŸàŸÇÿπ ŸÑŸÑÿ∑Ÿàÿßÿ±ÿ¶&quot;,
        btn_refresh: &quot;ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™&quot;,
        btn_copy: &quot;ŸÜÿ≥ÿÆ ÿßŸÑÿ•ÿ≠ÿØÿßÿ´Ÿäÿßÿ™&quot;,
        btn_coffee: &quot;ÿØÿπŸÖ ÿßŸÑŸÖŸàŸÇÿπ (ŸÇŸáŸàÿ©)&quot;,
        trust_text: &quot;üîí ÿ∂ŸÖÿßŸÜ ÿßŸÑÿÆÿµŸàÿµŸäÿ©: ŸÜÿ≠ŸÜ ŸÑÿß ŸÜÿ≠ŸÅÿ∏ ŸÖŸàŸÇÿπŸÉ ÿ£Ÿà ŸÜÿ≠ÿ™ÿßÿ¨ ÿ•ŸÑŸäŸá ÿ£Ÿà ŸÜÿ¥ÿßÿ±ŸÉŸá. Ÿáÿ∞ÿß ÿßŸÑŸÖŸàŸÇÿπ ŸÖŸàÿ¨ŸàÿØ ŸÅŸÇÿ∑ ŸÑŸÖÿ≥ÿßÿπÿØÿ™ŸÉ ÿ£Ÿà ÿ•ŸÜŸÇÿßÿ∞ŸÉ ÿπŸÜÿØ ÿßŸÑÿ≠ÿßÿ¨ÿ©. ÿ™ÿ™ŸÖ ŸÖÿπÿßŸÑÿ¨ÿ© ÿ¨ŸÖŸäÿπ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿ®ÿ£ŸÖÿßŸÜ ÿπŸÑŸâ ÿ¨Ÿáÿßÿ≤ŸÉ.&quot;,
        link_privacy: &quot;ÿßŸÑÿÆÿµŸàÿµŸäÿ©&quot;, link_terms: &quot;ÿßŸÑÿ¥ÿ±Ÿàÿ∑&quot;, link_contact: &quot;ÿßÿ™ÿµŸÑ ÿ®ŸÜÿß&quot;,
        cookie_text: &quot;ŸÜÿ≠ŸÜ ŸÜÿ≥ÿ™ÿÆÿØŸÖ ŸÖŸÑŸÅÿßÿ™ ÿ™ÿπÿ±ŸäŸÅ ÿßŸÑÿßÿ±ÿ™ÿ®ÿßÿ∑ ŸÑÿ™ÿ≠ŸÑŸäŸÑ ÿ≠ÿ±ŸÉÿ© ÿßŸÑŸÖÿ±Ÿàÿ± Ÿàÿπÿ±ÿ∂ ÿßŸÑÿ•ÿπŸÑÿßŸÜÿßÿ™.&quot;,
        btn_accept: &quot;ŸÇÿ®ŸàŸÑ&quot;
    }
};

function changeLanguage(lang) {
    localStorage.setItem(&#39;user_lang&#39;, lang);
    if (lang === &#39;ar&#39;) { document.body.classList.add(&#39;rtl&#39;); } else { document.body.classList.remove(&#39;rtl&#39;); }
    const texts = i18n[lang];
    document.querySelectorAll(&#39;[data-i18n]&#39;).forEach(el =&gt; {
        const key = el.getAttribute(&#39;data-i18n&#39;);
        if (texts[key]) el.textContent = texts[key];
    });
}

const savedLang = localStorage.getItem(&#39;user_lang&#39;) || &#39;en&#39;;
document.getElementById(&#39;language&#39;).value = savedLang;
changeLanguage(savedLang);

if (!localStorage.getItem(&#39;cookiesAccepted&#39;)) {
    document.getElementById(&#39;cookie-banner&#39;).style.display = &#39;block&#39;;
}
function acceptCookies() {
    localStorage.setItem(&#39;cookiesAccepted&#39;, &#39;true&#39;);
    document.getElementById(&#39;cookie-banner&#39;).style.display = &#39;none&#39;;
}

const els = {
    lat: document.getElementById(&quot;lat-val&quot;),
    lng: document.getElementById(&quot;lng-val&quot;),
    addr: document.getElementById(&quot;full-address&quot;),
    acc: document.getElementById(&quot;accuracy-val&quot;),
    temp: document.getElementById(&quot;temp-display&quot;),
    wind: document.getElementById(&quot;wind-display&quot;),
    ip: document.getElementById(&quot;ip-val&quot;),
    isp: document.getElementById(&quot;isp-val&quot;),
    nearby: document.getElementById(&quot;nearby-results&quot;)
};

let map, marker, accuracyCircle, currentPos = null;

function getDistance(lat1, lon1, lat2, lon2) {
    const R = 6371; 
    const dLat = (lat2 - lat1) * Math.PI / 180;
    const dLon = (lon2 - lon1) * Math.PI / 180;
    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * Math.sin(dLon / 2) * Math.sin(dLon / 2);
    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
    const km = R * c;
    return { km: km.toFixed(2), mi: (km * 0.621371).toFixed(2) };
}

async function updateDashboard(lat, lng, acc) {
    currentPos = { lat, lng };
    try {
        const res = await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${lat}&amp;lon=${lng}&amp;format=json`);
        const data = await res.json();
        els.addr.textContent = data.display_name || &quot;Unknown Address&quot;;
    } catch(e) { els.addr.textContent = &quot;...&quot;; }

    try {
        const res = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&amp;longitude=${lng}&amp;current=temperature_2m,wind_speed_10m`);
        const data = await res.json();
        const c = Math.round(data.current.temperature_2m);
        const f = Math.round((c * 9/5) + 32);
        const kph = Math.round(data.current.wind_speed_10m);
        const mph = Math.round(kph * 0.621371);
        els.temp.textContent = `${f}¬∞F / ${c}¬∞C`;
        els.wind.textContent = `${mph} mph / ${kph} km/h`;
    } catch(e) { els.temp.textContent = &quot;N/A&quot;; }

    try {
        const query = `[out:json][timeout:10];(node[&quot;amenity&quot;~&quot;police|hospital|fuel&quot;](around:5000,${lat},${lng}););out body 10;`;
        const res = await fetch(&quot;[https://overpass-api.de/api/interpreter](https://overpass-api.de/api/interpreter)&quot;, { method: &quot;POST&quot;, body: query });
        const data = await res.json();
        const types = { police: &quot;Police&quot;, hospital: &quot;Hospital&quot;, fuel: &quot;Fuel&quot; };
        let best = { police: null, hospital: null, fuel: null };
        data.elements.forEach(el =&gt; {
            const t = el.tags.amenity;
            const dist = getDistance(lat, lng, el.lat, el.lon);
            if (!best[t] || parseFloat(dist.km) &lt; parseFloat(best[t].dist.km)) {
                best[t] = { name: el.tags.name || &quot;Local&quot;, dist };
            }
        });
        els.nearby.innerHTML = &quot;&quot;;
        Object.keys(best).forEach(k =&gt; {
            const item = best[k];
            const div = document.createElement(&quot;div&quot;);
            div.className = &quot;nearby-item&quot;;
            div.innerHTML = item ? 
                `&lt;div class=&quot;nearby-type&quot;&gt;${types[k]}&lt;/div&gt;&lt;div class=&quot;nearby-name&quot;&gt;${item.name}&lt;/div&gt;&lt;div class=&quot;nearby-dist&quot;&gt;${item.dist.mi} mi / ${item.dist.km} km&lt;/div&gt;` :
                `&lt;div class=&quot;nearby-type&quot;&gt;${types[k]}&lt;/div&gt;&lt;div class=&quot;nearby-name&quot; style=&quot;color:#555&quot;&gt;None&lt;/div&gt;`;
            els.nearby.appendChild(div);
        });
    } catch(e) { console.log(&quot;Nearby Error&quot;); }
}

function initGPS() {
    if (!navigator.geolocation) { els.addr.textContent = &quot;GPS not supported&quot;; return; }
    navigator.geolocation.getCurrentPosition(pos =&gt; {
        const { latitude, longitude, accuracy, altitude } = pos.coords;
        els.lat.textContent = latitude.toFixed(5);
        els.lng.textContent = longitude.toFixed(5);
        els.acc.textContent = `¬±${Math.round(accuracy)}m`;
        
        // Update New Premium Dashboard Fields
        document.getElementById(&#39;alt-p&#39;).textContent = altitude ? Math.round(altitude) + &#39;m&#39; : &#39;Sea Level&#39;;

        if (!map) {
            map = L.map(&quot;map&quot;, { zoomControl: false }).setView([latitude, longitude], 15);
            L.tileLayer(&quot;https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png&quot;, { maxZoom: 19 }).addTo(map);
            marker = L.marker([latitude, longitude]).addTo(map);
            accuracyCircle = L.circle([latitude, longitude], { radius: accuracy }).addTo(map);
        } else {
            map.setView([latitude, longitude], 15);
            marker.setLatLng([latitude, longitude]);
            accuracyCircle.setLatLng([latitude, longitude]);
            accuracyCircle.setRadius(accuracy);
        }
        updateDashboard(latitude, longitude, accuracy);
    }, (err) =&gt; { els.addr.textContent = &quot;Please enable Location Services.&quot;; }, { enableHighAccuracy: true });
    fetch(&quot;[https://ipapi.co/json/](https://ipapi.co/json/)&quot;).then(r=&gt;r.json()).then(d=&gt;{
        els.ip.textContent = d.ip;
        els.isp.textContent = d.org;
    });
}

document.getElementById(&quot;refresh-btn&quot;).addEventListener(&quot;click&quot;, () =&gt; location.reload());
document.getElementById(&quot;copy-coords-btn&quot;).addEventListener(&quot;click&quot;, () =&gt; {
    navigator.clipboard.writeText(`${els.lat.textContent}, ${els.lng.textContent}`);
    alert(&quot;Coordinates Copied!&quot;);
});
document.getElementById(&quot;copy-addr&quot;).addEventListener(&quot;click&quot;, () =&gt; {
    navigator.clipboard.writeText(els.addr.textContent);
    alert(&quot;Address Copied!&quot;);
});
// MODIFIED: Original listener maintained, but enhanced SOS logic added below
document.getElementById(&quot;sos-btn&quot;).addEventListener(&quot;click&quot;, () =&gt; {
    // Trigger New SOS Mode instead of just sharing
    triggerSOSMode();
});
initGPS();

/* =========================================
   NEW DEVELOPER MODE MODULES &amp; FUNCTIONS
   ========================================= */

/* --- OFFLINE MODE HANDLER --- */
window.addEventListener(&#39;offline&#39;, () =&gt; {
    document.getElementById(&#39;offline-indicator&#39;).style.display = &#39;inline-block&#39;;
    // Try to load cached pins
    loadPins();
});
window.addEventListener(&#39;online&#39;, () =&gt; {
    document.getElementById(&#39;offline-indicator&#39;).style.display = &#39;none&#39;;
});

/* --- UI TOGGLER --- */
function toggleModule(id) {
    document.querySelectorAll(&#39;.new-module-container&#39;).forEach(el =&gt; {
        if (el.id !== id) el.classList.remove(&#39;active-mod&#39;);
    });
    const mod = document.getElementById(id);
    mod.classList.toggle(&#39;active-mod&#39;);
    
    // Populate share link if opening share mod
    if (id === &#39;share-mod&#39; &amp;&amp; currentPos) {
        document.getElementById(&#39;share-url-input&#39;).value = `https://tellmylocation.com/?lat=${currentPos.lat}&amp;lng=${currentPos.lng}`;
    }
}

/* --- MODULE: SHAREABLE LINK --- */
function copyShareLink() {
    const input = document.getElementById(&#39;share-url-input&#39;);
    input.select();
    document.execCommand(&#39;copy&#39;);
    alert(&#39;Link copied to clipboard!&#39;);
}

function shareSocial(platform) {
    if (!currentPos) return alert(&quot;Waiting for location...&quot;);
    const url = `https://tellmylocation.com/?lat=${currentPos.lat}&amp;lng=${currentPos.lng}`;
    const msg = `My current location: ${url}`;
    let link = &quot;&quot;;
    
    if (platform === &#39;wa&#39;) link = `https://wa.me/?text=${encodeURIComponent(msg)}`;
    if (platform === &#39;sms&#39;) link = `sms:?body=${encodeURIComponent(msg)}`;
    if (platform === &#39;tg&#39;) link = `https://t.me/share/url?url=${encodeURIComponent(url)}&amp;text=${encodeURIComponent(&quot;My Location&quot;)}`;
    
    window.open(link, &#39;_blank&#39;);
}

function startLiveTrack() {
    // STUB: This would connect to a backend websocket
    const btn = document.getElementById(&#39;live-trk-btn&#39;);
    btn.innerText = &quot;üì° Tracking Active (15m)&quot;;
    btn.style.background = &quot;#ef4444&quot;;
    setTimeout(() =&gt; {
        btn.innerText = &quot;üì° Start Live (15m)&quot;;
        btn.style.background = &quot;&quot;;
        alert(&quot;Live tracking session ended.&quot;);
    }, 15 * 60 * 1000); // 15 mins
    alert(&quot;Live tracking started. Session ID: &quot; + Math.random().toString(36).substr(2, 9));
}

/* --- MODULE: DRIVER MODE --- */
let watchId = null;
function enableDriverStats() {
    if (watchId) return;
    watchId = navigator.geolocation.watchPosition(pos =&gt; {
        const spd = pos.coords.speed; // m/s
        const hdg = pos.coords.heading;
        
        if (spd !== null) {
            const mph = Math.round(spd * 2.23694);
            document.getElementById(&#39;drv-speed&#39;).innerText = mph;
        }
        if (hdg !== null &amp;&amp; !isNaN(hdg)) {
            const dirs = [&#39;N&#39;,&#39;NE&#39;,&#39;E&#39;,&#39;SE&#39;,&#39;S&#39;,&#39;SW&#39;,&#39;W&#39;,&#39;NW&#39;];
            const ix = Math.round(((hdg %= 360) &lt; 0 ? hdg + 360 : hdg) / 45) % 8;
            document.getElementById(&#39;drv-dir&#39;).innerText = dirs[ix];
        }
    }, null, {enableHighAccuracy: true});
}
// Activate driver stats when module opens (conceptually)
document.querySelector(&#39;button[onclick=&quot;toggleModule(\&#39;driver-mod\&#39;)&quot;]&#39;).addEventListener(&#39;click&#39;, enableDriverStats);

function openMapSearch(query) {
    if (!currentPos) return;
    window.open(`https://www.google.com/maps/search/${query}/@${currentPos.lat},${currentPos.lng},15z`);
}

function shareETA() {
    const min = prompt(&quot;Minutes to arrival?&quot;, &quot;15&quot;);
    if (!min) return;
    const msg = `I will arrive in approx ${min} mins. Track me: https://tellmylocation.com/?lat=${currentPos.lat}&amp;lng=${currentPos.lng}`;
    window.location.href = `sms:?body=${encodeURIComponent(msg)}`;
}

function shareLocationSimple() {
    shareSocial(&#39;sms&#39;);
}

/* --- MODULE: HIKER MODE --- */
function dropPin() {
    if (!currentPos) return alert(&quot;No GPS signal.&quot;);
    const pins = JSON.parse(localStorage.getItem(&#39;hiker_pins&#39;) || &quot;[]&quot;);
    const pin = {
        time: new Date().toLocaleTimeString(),
        lat: currentPos.lat,
        lng: currentPos.lng
    };
    pins.push(pin);
    localStorage.setItem(&#39;hiker_pins&#39;, JSON.stringify(pins));
    loadPins();
}

function loadPins() {
    const list = document.getElementById(&#39;pin-list&#39;);
    list.innerHTML = &quot;&quot;;
    const pins = JSON.parse(localStorage.getItem(&#39;hiker_pins&#39;) || &quot;[]&quot;);
    pins.forEach((p, i) =&gt; {
        const div = document.createElement(&#39;div&#39;);
        div.className = &#39;pin-item&#39;;
        div.innerHTML = `&lt;span&gt;üìç Pin ${i+1} (${p.time})&lt;/span&gt; &lt;a href=&quot;https://maps.google.com/?q=${p.lat},${p.lng}&quot; target=&quot;_blank&quot; style=&quot;color:#38bdf8&quot;&gt;Map&lt;/a&gt;`;
        list.appendChild(div);
    });
}

function clearPins() {
    if(confirm(&quot;Delete all pins?&quot;)) {
        localStorage.removeItem(&#39;hiker_pins&#39;);
        loadPins();
    }
}
loadPins(); // Init load

/* --- MODULE: MEET FRIEND --- */
function calcFriendDist() {
    const val = document.getElementById(&#39;friend-input&#39;).value;
    // Simple parser for &quot;lat,lng&quot;
    let lat2, lng2;
    
    // Regex to find coords in a string
    const match = val.match(/([-+]?\d{1,2}\.\d+),\s*([-+]?\d{1,3}\.\d+)/);
    if (match) {
        lat2 = parseFloat(match[1]);
        lng2 = parseFloat(match[2]);
    } else if (val.includes(&#39;lat=&#39;) &amp;&amp; val.includes(&#39;lng=&#39;)) {
        const url = new URL(val);
        lat2 = parseFloat(url.searchParams.get(&#39;lat&#39;));
        lng2 = parseFloat(url.searchParams.get(&#39;lng&#39;));
    } else {
        return alert(&quot;Could not parse coordinates. Please use &#39;lat,lng&#39; format.&quot;);
    }

    if (!currentPos) return alert(&quot;Your location is not set yet.&quot;);
    
    const dist = getDistance(currentPos.lat, currentPos.lng, lat2, lng2);
    
    // Calc Midpoint
    const midLat = (currentPos.lat + lat2) / 2;
    const midLng = (currentPos.lng + lng2) / 2;
    
    const res = document.getElementById(&#39;friend-res&#39;);
    res.innerHTML = `
        &lt;strong&gt;Distance:&lt;/strong&gt; ${dist.mi} mi / ${dist.km} km<br>
        &lt;strong&gt;Midpoint:&lt;/strong&gt; &lt;a href=&quot;[https://www.google.com/maps/search/coffee/@$](https://www.google.com/maps/search/coffee/@$){midLat},${midLng},14z&quot; target=&quot;_blank&quot; style=&quot;color:#38bdf8; text-decoration:underline;&quot;&gt;Find Meetup Spot&lt;/a&gt;
    `;
}

/* --- MODULE: SOS MODE --- */
let sosAudio = null;
function triggerSOSMode() {
    const overlay = document.getElementById(&#39;sos-overlay&#39;);
    overlay.style.display = &#39;flex&#39;;
    
    // Loop Alarm (Stubbing Audio)
    // sosAudio = new Audio(&#39;alarm.mp3&#39;); sosAudio.loop = true; sosAudio.play();
    
    // Auto share
    if (navigator.share &amp;&amp; currentPos) {
        navigator.share({
            title: &#39;EMERGENCY SOS&#39;,
            text: &#39;I NEED HELP. My Location:&#39;,
            url: `https://tellmylocation.com/?lat=${currentPos.lat}&amp;lng=${currentPos.lng}`
        }).catch(console.log);
    }
}

function stopSOS() {
    document.getElementById(&#39;sos-overlay&#39;).style.display = &#39;none&#39;;
    if (sosAudio) {
        sosAudio.pause();
        sosAudio = null;
    }
}

/* --- CHECK URL PARAMS ON LOAD --- */
window.onload = function() {
    const params = new URLSearchParams(window.location.search);
    const pLat = params.get(&#39;lat&#39;);
    const pLng = params.get(&#39;lng&#39;);
    if (pLat &amp;&amp; pLng) {
        // If someone shared a link, maybe show it differently or map it
        // For now we just focus the map there if logic allows, or alert
        console.log(&quot;Opened via shared link:&quot;, pLat, pLng);
        setTimeout(() =&gt; {
           if(map) {
               L.marker([pLat, pLng], {color:&#39;red&#39;}).addTo(map).bindPopup(&quot;Shared Location&quot;).openPopup();
               map.setView([pLat, pLng], 15);
           }
        }, 2000);
    }
};
    </script>

</body> </html>
