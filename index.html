<!DOCTYPE html>
<html lang="en">
<head>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5129097020907805" crossorigin="anonymous"></script>

    <meta charset="UTF-8" />
    <title>Tell My Location | Instant GPS & SOS Tool</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="description" content="Find your exact GPS coordinates, address, and nearest emergency services instantly. Multi-language support. Free and private.">
    
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#0f172a">

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

    <style>
        :root {
            --bg: #0f172a;
            --surface: #1e293b;
            --accent: #10b981; /* Emerald */
            --accent-hover: #059669;
            --text-main: #f8fafc;
            --text-soft: #94a3b8;
            --border: rgba(255, 255, 255, 0.1);
            --danger: #ef4444;
            --warning: #f59e0b;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: var(--bg);
            color: var(--text-main);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        .shell { width: 100%; max-width: 600px; display: flex; flex-direction: column; gap: 15px; }

        /* --- HEADER & LANG --- */
        header { 
            display: flex; justify-content: space-between; align-items: center; 
            margin-bottom: 10px; padding: 0 5px;
        }
        .brand { font-size: 24px; font-weight: 800; letter-spacing: -1px; }
        .brand span { color: var(--accent); }
        
        select.lang-picker {
            background: var(--surface); color: var(--text-soft); border: 1px solid var(--border);
            padding: 5px 10px; border-radius: 8px; font-size: 14px; outline: none;
        }

        /* --- MAP --- */
        .map-container {
            height: 250px; width: 100%; border-radius: 20px;
            border: 2px solid var(--border); overflow: hidden; z-index: 1;
        }
        #map { height: 100%; width: 100%; }

        /* --- DASHBOARD --- */
        .dashboard {
            display: grid; grid-template-columns: 1fr 1fr; gap: 10px;
        }
        .stat-box {
            background: var(--surface); border: 1px solid var(--border);
            padding: 15px; border-radius: 16px; display: flex; flex-direction: column; gap: 5px;
        }
        .stat-box.full { grid-column: span 2; }
        .label { font-size: 11px; text-transform: uppercase; color: var(--text-soft); letter-spacing: 0.5px; }
        .value { font-size: 15px; font-weight: 600; color: white; word-break: break-word; }
        .highlight { color: var(--accent); font-family: monospace; font-size: 16px; }

        /* --- BUTTONS --- */
        .btn {
            border: none; padding: 16px; border-radius: 16px; font-size: 16px; font-weight: 700;
            cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px;
            transition: transform 0.2s; width: 100%;
        }
        .btn:active { transform: scale(0.98); }
        
        .btn-refresh { background: var(--accent); color: #022c22; box-shadow: 0 0 20px rgba(16, 185, 129, 0.3); }
        .btn-sos { background: var(--danger); color: white; margin-top: 10px; box-shadow: 0 0 20px rgba(239, 68, 68, 0.3); }

        /* --- NEARBY SERVICES --- */
        .services-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-top: 10px; }
        .svc-btn {
            background: rgba(255,255,255,0.05); border: 1px solid var(--border); color: var(--text-soft);
            padding: 15px 10px; border-radius: 12px; font-size: 12px; display: flex; flex-direction: column; 
            align-items: center; gap: 8px; cursor: pointer; text-decoration: none;
        }
        .svc-btn:hover { background: rgba(255,255,255,0.1); color: white; }
        .svc-icon { font-size: 24px; }

        /* --- FOOTER --- */
        footer { margin-top: 30px; text-align: center; font-size: 12px; color: var(--text-soft); }
        footer a { color: var(--text-soft); margin: 0 5px; text-decoration: none; }

        /* --- COOKIE BANNER --- */
        #cookie-banner {
            display: none; position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
            background: #1e293b; padding: 20px; border-radius: 16px; 
            border: 1px solid rgba(255,255,255,0.1); 
            box-shadow: 0 10px 40px rgba(0,0,0,0.8); 
            width: 90%; max-width: 400px; z-index: 1000; text-align: center;
        }
    </style>
</head>
<body>

<div class="shell">
    <header>
        <div class="brand">TellMy<span>Location</span></div>
        <select class="lang-picker" onchange="changeLang(this.value)">
            <option value="en">English</option>
            <option value="es">Espa√±ol</option>
            <option value="fr">Fran√ßais</option>
            <option value="ru">–†—É—Å—Å–∫–∏–π</option>
            <option value="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
        </select>
    </header>

    <div class="map-container">
        <div id="map"></div>
    </div>

    <div class="dashboard">
        <div class="stat-box full">
            <div class="label" id="lbl-addr">Address</div>
            <div class="value" id="val-addr">Locating...</div>
        </div>
        <div class="stat-box">
            <div class="label" id="lbl-lat">Latitude</div>
            <div class="value highlight" id="val-lat">--</div>
        </div>
        <div class="stat-box">
            <div class="label" id="lbl-lon">Longitude</div>
            <div class="value highlight" id="val-lon">--</div>
        </div>
    </div>

    <button class="btn btn-refresh" onclick="getLocation()">
        <span id="btn-update">Update Location</span>
    </button>

    <div class="services-grid">
        <a id="link-police" href="#" target="_blank" class="svc-btn">
            <div class="svc-icon">üëÆ</div>
            <span id="lbl-police">Police</span>
        </a>
        <a id="link-hospital" href="#" target="_blank" class="svc-btn">
            <div class="svc-icon">üè•</div>
            <span id="lbl-hospital">Hospital</span>
        </a>
        <a id="link-gas" href="#" target="_blank" class="svc-btn">
            <div class="svc-icon">‚õΩ</div>
            <span id="lbl-gas">Gas Station</span>
        </a>
    </div>

    <button class="btn btn-sos" onclick="shareLocation()">
        ‚ö†Ô∏è <span id="btn-sos">SHARE SOS LOCATION</span>
    </button>

    <footer>
        <a href="privacy.html">Privacy</a> ‚Ä¢ <a href="terms.html">Terms</a> ‚Ä¢ <a href="contact.html">Contact</a>
        <br><br>¬© 2026 TellMyLocation.com
    </footer>
</div>

<div id="cookie-banner">
    <p id="cookie-text" style="color: #94a3b8; font-size: 14px; margin-bottom: 15px;">We use cookies to analyze traffic and show personalized ads.</p>
    <button id="cookie-btn" onclick="acceptCookies()" style="background: var(--accent); border: none; color: #022c22; padding: 10px 30px; border-radius: 20px; font-weight: bold; cursor: pointer; font-size: 14px;">I Accept</button>
</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<script>
    // --- TRANSLATIONS ---
    const i18n = {
        en: { addr: "Address", lat: "Latitude", lon: "Longitude", update: "Update Location", sos: "SHARE SOS LOCATION", police: "Police", hospital: "Hospital", gas: "Gas Station", cookie: "We use cookies to analyze traffic.", accept: "I Accept" },
        es: { addr: "Direcci√≥n", lat: "Latitud", lon: "Longitud", update: "Actualizar Ubicaci√≥n", sos: "COMPARTIR SOS", police: "Polic√≠a", hospital: "Hospital", gas: "Gasolinera", cookie: "Usamos cookies para analizar el tr√°fico.", accept: "Aceptar" },
        fr: { addr: "Adresse", lat: "Latitude", lon: "Longitude", update: "Mettre √† jour", sos: "PARTAGER SOS", police: "Police", hospital: "H√¥pital", gas: "Station-service", cookie: "Nous utilisons des cookies.", accept: "Accepter" },
        ru: { addr: "–ê–¥—Ä–µ—Å", lat: "–®–∏—Ä–æ—Ç–∞", lon: "–î–æ–ª–≥–æ—Ç–∞", update: "–û–±–Ω–æ–≤–∏—Ç—å", sos: "–û–¢–ü–†–ê–í–ò–¢–¨ SOS", police: "–ü–æ–ª–∏—Ü–∏—è", hospital: "–ë–æ–ª—å–Ω–∏—Ü–∞", gas: "–ó–∞–ø—Ä–∞–≤–∫–∞", cookie: "–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ñ–∞–π–ª—ã cookie.", accept: "–ü—Ä–∏–Ω—è—Ç—å" },
        ar: { addr: "ÿßŸÑÿπŸÜŸàÿßŸÜ", lat: "ÿÆÿ∑ ÿßŸÑÿπÿ±ÿ∂", lon: "ÿÆÿ∑ ÿßŸÑÿ∑ŸàŸÑ", update: "ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸÖŸàŸÇÿπ", sos: "ÿ•ÿ±ÿ≥ÿßŸÑ ŸÜÿØÿßÿ° ÿßÿ≥ÿ™ÿ∫ÿßÿ´ÿ©", police: "ÿ¥ÿ±ÿ∑ÿ©", hospital: "ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ", gas: "ŸÖÿ≠ÿ∑ÿ© ŸàŸÇŸàÿØ", cookie: "ŸÜÿ≠ŸÜ ŸÜÿ≥ÿ™ÿÆÿØŸÖ ŸÖŸÑŸÅÿßÿ™ ÿ™ÿπÿ±ŸäŸÅ ÿßŸÑÿßÿ±ÿ™ÿ®ÿßÿ∑.", accept: "ŸÇÿ®ŸàŸÑ" }
    };

    function changeLang(lang) {
        const t = i18n[lang];
        document.getElementById('lbl-addr').innerText = t.addr;
        document.getElementById('lbl-lat').innerText = t.lat;
        document.getElementById('lbl-lon').innerText = t.lon;
        document.getElementById('btn-update').innerText = t.update;
        document.getElementById('btn-sos').innerText = t.sos;
        document.getElementById('lbl-police').innerText = t.police;
        document.getElementById('lbl-hospital').innerText = t.hospital;
        document.getElementById('lbl-gas').innerText = t.gas;
        document.getElementById('cookie-text').innerText = t.cookie;
        document.getElementById('cookie-btn').innerText = t.accept;
        
        // RTL Support for Arabic
        document.body.style.direction = lang === 'ar' ? 'rtl' : 'ltr';
    }

    // --- COOKIE LOGIC ---
    if (!localStorage.getItem('cookiesAccepted')) {
        document.getElementById('cookie-banner').style.display = 'block';
    }
    function acceptCookies() {
        localStorage.setItem('cookiesAccepted', 'true');
        document.getElementById('cookie-banner').style.display = 'none';
    }

    // --- MAP & LOCATION ---
    let map, marker;
    let lat = 0, lon = 0;

    function initMap() {
        map = L.map('map').setView([0, 0], 2);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '¬© OpenStreetMap'
        }).addTo(map);
    }

    function getLocation() {
        document.getElementById('btn-update').innerText = "Locating...";
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(showPosition, showError, { enableHighAccuracy: true });
        } else {
            alert("Geolocation not supported");
        }
    }

    function showPosition(pos) {
        lat = pos.coords.latitude;
        lon = pos.coords.longitude;
        
        // Update UI
        document.getElementById('val-lat').innerText = lat.toFixed(6);
        document.getElementById('val-lon').innerText = lon.toFixed(6);
        document.getElementById('btn-update').innerText = i18n[document.querySelector('.lang-picker').value].update;

        // Update Map
        if (marker) map.removeLayer(marker);
        map.setView([lat, lon], 16);
        marker = L.marker([lat, lon]).addTo(map).bindPopup("You are here").openPopup();

        // Update Service Links (Dynamic Google Maps Links)
        document.getElementById('link-police').href = `https://www.google.com/maps/search/police/@${lat},${lon},14z`;
        document.getElementById('link-hospital').href = `https://www.google.com/maps/search/hospital/@${lat},${lon},14z`;
        document.getElementById('link-gas').href = `https://www.google.com/maps/search/gas+station/@${lat},${lon},14z`;

        // Reverse Geocode (Address)
        fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}`)
            .then(res => res.json())
            .then(data => {
                document.getElementById('val-addr').innerText = data.display_name || "Address not found";
            });
    }

    function showError() {
        alert("Unable to retrieve location. Please allow GPS access.");
        document.getElementById('btn-update').innerText = "Try Again";
    }

    function shareLocation() {
        if (lat === 0) { alert("Please click 'Update Location' first."); return; }
        const text = `HELP! My location is: https://www.google.com/maps?q=${lat},${lon}`;
        if (navigator.share) {
            navigator.share({ title: 'Emergency Location', text: text, url: `https://www.google.com/maps?q=${lat},${lon}` });
        } else {
            prompt("Copy this link:", text);
        }
    }

    initMap();
    getLocation();

</script>
</body>
</html>
